# 当前版本限制与未来展望

本文档介绍星火编辑器2.0当前纯代码开发版本的限制，以及已知缺失的功能和可以期待的未来功能。

## 目录

- [当前版本的限制](#当前版本的限制)
- [已知缺失的功能](#已知缺失的功能)
- [可以期待的功能](#可以期待的功能)
- [探索、学习、反馈和改进](#探索学习反馈和改进)

---

## 当前版本的限制

显而易见，由于星火编辑器2.0的图形化版本触发编辑器和数据编辑器还在开发中，因此当前版本存在许多限制。

### 1. 无法在图形化地形编辑中放置单位和物品

**现状**：
- 地编单位和物品依赖于图形化版本的数据编辑器
- 目前地编中看不到任何单位和物品

**解决方案**：
- 用户可以通过代码版本的数编来配置预放置的单位和物品
- 或是通过触发器来动态创建

**示例**：
```csharp
// 通过代码配置的数编来创建预放置单位
_ = new GameDataScene(Scene.DefaultScene) // 配置一个场景
{
    PlacedPlayerObjects = new()
    {
        {
            1, new PlacedUnit() // 配置一个单位
            {
                Link = Unit.HostTestHero,
                OwnerPlayerId = 1,
                Position = new(3500,3000,0),
                IsMainUnit = true,
                TriggerGetter = true,
                UniqueId = 1,
            }
        },
...

// 通过数编表的CreateUnit方法来创建单位
GameDataUnit myUnitData = ...;
Player player = Player.GetById(1);
ScenePoint scenePoint = new(100, 200, scene);
Angle facing = 90.0f;
var unit = myUnitData.CreateUnit(player, scenePoint, facing);
if (unit == null)
{
    Game.Logger.LogError("Failed to create unit");
    return;
}
```

### 2. 缺少部分小卡片机制

**现状**：
- 目前编辑器中没有提供与1.0对应的小卡片机制功能
- 这些机制在后续版本中会逐步添加，但可能不会与1.0版本完全一致

**原因**：
- 在2.0版本中，许多扩展功能的开发都变得更加简单了
- 设计团队正在重新思考这些功能的实现方式

**影响**：
- 目前比较关键的缺失可能是**商城功能**
- 需要进行商业化开发的用户可能需要等待后续版本添加类似功能
- 但也可以先进行其他功能开发

### 3. 需要手动进行资源统计和捏人动画重定向

**现状**：
- 2.0代码版本中，由于数据编辑器尚且缺失
- 资源统计和捏人动画重定向需要用户手动执行

**解决方案**：

**步骤1：配置捏人动画**
- 对于每个捏人模型所需要使用的捏人动画，用户需要在对应的 `GameDataModel` 数据中填写 `HumanoidSourceAnimations` 列表属性
- 这相当于1.0版本数据编辑器中的"额外加载动画"字段
- 将这个模型所需要用到的人形共享动画路径填入

**步骤2：生成资源统计和重定向动画**
- 在编辑器中打开项目
- 点击菜单中的 **"工具 → 资源统计和动画重定向 → 统计资源并生成"**
- 这将生成重定向动画文件和资源统计文件

**⚠️ 为什么需要这些操作？**

**资源统计的作用**：
- 资源统计工具用于统计当前项目使用了哪些模型、音效、动画、粒子、纹理等资源
- 当玩家使用客户端进行游戏前，会根据这一列表来下载云端资源
- **如果资源统计列表文件缺失**，玩家可能会遇到游戏客户端模型粒子资源缺失等问题

**开发阶段的特殊性**：
- 开发者在编辑器中开发游戏时，即使没有生成资源列表，由于编辑器本身下载了所有云端资源，所以在编辑器调试模式下不会遇到资源缺失问题
- ⚠️ **但用户在发布游戏前应当谨慎确保执行了资源统计的步骤**

**动画重定向的作用**：
- 动画重定向用于将共享的人形动画资源烘焙到特定的捏人模型上
- **若没有预先烘焙资源**，游戏中的捏人模型可能会遇到无法正常播放指定动画，或者使用技能时不播放动画的问题
- 与缺少资源统计列表不同的是，用户在编辑器调试阶段就能看到由于重定向动画文件缺失而导致的动画无法播放问题

**如何检查是否正确生成**：
- 用户可以查看项目 `ref` 目录下的 `objref.txt` 文件以确保项目资源被正确统计
- 用户可以查看项目 `anim` 目录以检查被生成的重定向动画文件

### 4. 资源路径需要手动填写

**现状**：
- 星火编辑器2.0目前还没有开放图形化的数据编辑器
- 用户需要在代码中手动填写资源路径
- 无法通过资源选择控件来直接选择资源获取路径

**解决方案**：
- 虽然数据编辑器暂时缺失，但美术资源库依然存在并可正常使用
- 用户可以直接在美术资源库中找到需要的资源
- 通过**右键点击资源**，选择**"复制资源路径"**
- 资源的完整路径会被复制到剪贴板中
- 然后可以直接粘贴到代码中使用

**示例流程**：
1. 在美术资源库中找到需要的资源（如模型、特效、音效等）
2. 右键点击该资源
3. 选择"复制资源路径"
4. 在代码中粘贴该路径

```csharp
// 示例：使用从美术资源库复制的资源路径
Asset = "characters/monster/sm_slm_a/model.prefab"; // 从资源库复制的路径
```

---

## 已知缺失的功能

以下是一些已知的相对1.0版本缺失的功能，用户**不必反复反馈**，我们已经在规划中：

### 1. 小地图

**状态**：开发中

**计划**：我们会在后续版本中添加小地图功能。

### 2. 局外商城

**状态**：规划中

**计划**：我们会在后续版本中添加局外商城功能。

**说明**：需要商业化开发的用户可能需要等待此功能，但可以先进行其他开发。

### 3. UI场景

**状态**：规划中

**计划**：我们会在后续版本中添加UI场景功能。
---

## 可以期待的功能

星火编辑器内部在进行一些**试验性功能**的设计，我们无法保证这些功能一定会被添加到正式版本中。但我们已经取得了一些进展。

### 1. Box2D物理引擎

**现状**：
- 目前星火编辑器可以通过Canvas来开发2D游戏

**期待**：
- Box2D物理引擎能为星火编辑器的2D游戏加入物理引擎能力
- 包括刚体、碰撞检测、关节约束等物理特性

**应用场景**：
- 横版动作游戏
- 物理解谜游戏
- 2D平台跳跃游戏

### 2. 真3D游戏和基础物理功能

**现状**：
- 自从1.0版本以来，星火编辑器的强项一直是2.5D顶视角类型游戏开发

**期待**：
- 在2.0版本中，我们正在探索为星火引擎引入真3D环境和物理引擎功能的可行性
- 包括真3D场景、3D物理碰撞、重力系统等

**潜力**：
- 这一研发有望为星火编辑器带来更大的发展空间
- 开启更多类型游戏的开发可能性

**应用场景**：
- 第一人称/第三人称游戏
- 3D动作游戏

---

## 探索、学习、反馈和改进

前面提到的内容只是星火编辑器2.0版本中的一小部分功能和特性。

### 探索更多功能

用户可以通过阅读文档和API列表来学习更多的功能和特性。有许多令人惊喜的新功能等待你的发掘：

- [完整框架文档](../README.md) - WasiCore框架的完整文档
- [API参考](../API_REFERENCE.md) - 详细的API文档
- [框架概述](../FRAMEWORK_OVERVIEW.md) - 框架架构和核心概念
- [各系统文档](../systems/) - 各个子系统的详细文档

### 学习资源

- 示例项目中包含了丰富的示例代码
- 文档中提供了大量的最佳实践
- 可以参考框架内部UI的实现源码

### 反馈渠道

星火编辑器2.0版本仍在开发中，我们欢迎用户积极探索和学习，并对新版本提出反馈和建议：

- **功能建议** - 提出您希望看到的新功能
- **问题反馈** - 报告遇到的问题和bug
- **文档改进** - 指出文档中的错误或不清晰的地方
- **最佳实践** - 分享您在使用过程中发现的好方法

### 持续改进

您的反馈将帮助我们：
- 改进框架的易用性
- 优化性能和稳定性
- 完善文档和示例
- 规划未来的功能开发

---

## 总结

虽然当前版本存在一些限制，但星火编辑器2.0的纯代码开发模式已经提供了强大的游戏开发能力：

### 已有的优势

✅ 完整的游戏逻辑开发能力
✅ 强大的触发器和事件系统
✅ 类型安全的数编系统
✅ 灵活的UI创建方式
✅ 组件化的架构设计
✅ 服务器客户端代码共享
✅ 2D游戏开发能力（Canvas）

### 未来的发展

🚀 图形化编辑器的完善
🚀 更多内置功能和组件
🚀 物理引擎集成
🚀 真3D游戏支持
🚀 更丰富的示例和文档

我们期待您在星火编辑器2.0的开发之旅中创造出精彩的游戏！

---

## 下一步

- 返回[导航页面](./INDEX.md)查看所有文档
- 开始您的第一个2.0项目
- 加入社区，与其他开发者交流

